<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Calculate Feed Conversion Ratio (FCR) — fcr_get • tidypptsda</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Calculate Feed Conversion Ratio (FCR) — fcr_get"><meta property="og:description" content="Calculates Feed Conversion Ratio (FCR) based on Average Daily Gain (ADG) and Average Daily Feed Intake (ADFI) data.
This function merges ADG and ADFI data, calculates corrected FCR values, and generates statistical summaries."><meta property="og:image" content="https://tony2015116.github.io/tidypptsda/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tidypptsda</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/get-started.html">Get started</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/tony2015116/tidypptsda" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Calculate Feed Conversion Ratio (FCR)</h1>
    <small class="dont-index">Source: <a href="https://github.com/tony2015116/tidypptsda/blob/main/R/fcr_get.R" class="external-link"><code>R/fcr_get.R</code></a></small>
    <div class="hidden name"><code>fcr_get.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Calculates Feed Conversion Ratio (FCR) based on Average Daily Gain (ADG) and Average Daily Feed Intake (ADFI) data.
This function merges ADG and ADFI data, calculates corrected FCR values, and generates statistical summaries.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">fcr_get</span><span class="op">(</span><span class="va">adg_res</span>, <span class="va">adfi_res</span>, quiet <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-adg-res">adg_res<a class="anchor" aria-label="anchor" href="#arg-adg-res"></a></dt>
<dd><p>A list object returned by the <code><a href="adg_get.html">adg_get()</a></code> function, containing ADG data and related information.</p></dd>


<dt id="arg-adfi-res">adfi_res<a class="anchor" aria-label="anchor" href="#arg-adfi-res"></a></dt>
<dd><p>A list object returned by the <code><a href="adfi_get.html">adfi_get()</a></code> function, containing ADFI data and related information.</p></dd>


<dt id="arg-quiet">quiet<a class="anchor" aria-label="anchor" href="#arg-quiet"></a></dt>
<dd><p>Logical; if TRUE, suppresses all messages and warnings, default is FALSE.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A list containing:</p><ul><li><p><code>fcr_res</code>: A data.table with FCR calculation results</p></li>
<li><p><code>adg_info</code>: The input ADG information table</p></li>
<li><p><code>adg_data</code>: The original ADG data</p></li>
<li><p><code>adfi_info</code>: The input ADFI information table</p></li>
<li><p><code>adfi_data</code>: The original ADFI data</p></li>
<li><p><code>fcr_summary</code>: Statistical summary of FCR calculation results</p></li>
</ul></div>
    <div id="details">
    <h2>Details</h2>
    <p>The <code>fcr_get</code> function performs the following steps:</p><ul><li><p>Validates the format of input ADG and ADFI data</p></li>
<li><p>Merges ADG and ADFI data, matching by animal ID and location</p></li>
<li><p>Calculates corrected daily gain and feed conversion ratio</p></li>
<li><p>Generates statistical summaries of FCR, including sample size, minimum, maximum, median, mean, standard deviation, and coefficient of variation</p></li>
</ul></div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="adg_get.html">adg_get</a></code> for calculating Average Daily Gain data
<code><a href="adfi_get.html">adfi_get</a></code> for calculating Average Daily Feed Intake data</p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">result_nedap</span> <span class="op">&lt;-</span> <span class="fu"><a href="preprocess_data.html">preprocess_data</a></span><span class="op">(</span>data <span class="op">=</span> <span class="fu">mintyr</span><span class="fu">::</span><span class="va"><a href="https://tony2015116.github.io/mintyr/reference/nedap.html" class="external-link">nedap</a></span>, station_type <span class="op">=</span> <span class="st">"nedap"</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">adg_result</span> <span class="op">&lt;-</span> <span class="fu"><a href="adg_get.html">adg_get</a></span><span class="op">(</span><span class="va">result_nedap</span>, my_break <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">30</span>,<span class="fl">120</span><span class="op">)</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">adfi_result</span> <span class="op">&lt;-</span> <span class="fu"><a href="adfi_get.html">adfi_get</a></span><span class="op">(</span><span class="va">result_nedap</span>, <span class="va">adg_result</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">fcr_result</span> <span class="op">&lt;-</span> <span class="fu">fcr_get</span><span class="op">(</span>adg_res <span class="op">=</span> <span class="va">adg_result</span>, adfi_res <span class="op">=</span> <span class="va">adfi_result</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">fcr_result</span><span class="op">$</span><span class="va">fcr_res</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Key: &lt;responder, location&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    responder location  stage start_date_cut min_weight_cut end_date_cut</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       &lt;char&gt;   &lt;char&gt; &lt;char&gt;         &lt;Date&gt;          &lt;num&gt;       &lt;Date&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:     13913      101 30-120     2024-03-02       30500.00   2024-05-16</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:     13918      101 30-120     2024-03-07       29846.15   2024-05-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:     13935      102 30-120     2024-02-28       31388.89   2024-05-09</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4:     13954      101 30-120     2024-02-25       35250.00   2024-05-23</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5:     13996      101 30-120     2024-02-27       32136.36   2024-05-06</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6:     14260      102 30-120     2024-02-23       31437.50   2024-05-07</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    max_weight_cut  lm_slope r_squared stage_days      adg origin_dfi</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             &lt;num&gt;     &lt;num&gt;     &lt;num&gt;      &lt;num&gt;    &lt;num&gt;      &lt;num&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:       121171.9 1193.6622 0.9938655         75 1200.000   2535.959</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:       119208.3 1147.9651 0.9968953         78 1153.846   2319.814</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:       119937.5 1261.9862 0.9973985         71 1267.606   2703.371</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4:       112295.5  998.5019 0.9375183         88 1022.727   2317.260</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5:       119850.0 1308.1903 0.9950834         69 1304.348   2909.309</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6:       121000.0 1224.6884 0.9954987         74 1216.216   2846.546</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    corrected_dfi corrected_adg  cor_fcr</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            &lt;num&gt;         &lt;num&gt;    &lt;num&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:      2560.189      1196.831 2.139140</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:      2307.572      1150.906 2.005005</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:      2704.603      1264.796 2.138371</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4:      2307.228      1010.615 2.282995</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5:      2921.705      1306.269 2.236679</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6:      2822.715      1220.452 2.312844</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">fcr_result</span><span class="op">$</span><span class="va">fcr_summary</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            traits      N     min     max  median    mean     sd     cv</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            &lt;char&gt; &lt;char&gt;  &lt;char&gt;  &lt;char&gt;  &lt;char&gt;  &lt;char&gt; &lt;char&gt; &lt;char&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1: min_weight_cut     28   27.80   35.25   31.13   31.35   1.40  4.46%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2: max_weight_cut     28  104.16  121.38  119.49  118.48   3.48  2.94%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:       lm_slope     28  934.27 1358.17 1219.19 1199.13 107.21  8.94%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4:     stage_days     28   66.00   96.00   74.00   75.36   7.53 10.00%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5:            adg     28  937.50 1363.64 1216.22 1204.68 108.19  8.98%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6:  corrected_dfi     28 2039.54 3333.84 2817.13 2745.49 333.44 12.14%</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Guo Meng Doe.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer></div>






  </body></html>

