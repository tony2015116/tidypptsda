% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/preprocess_data.R
\name{preprocess_data}
\alias{preprocess_data}
\title{Data Preprocessing Pipeline}
\usage{
preprocess_data(
  data,
  station_type = "nedap",
  print_details = FALSE,
  quiet = FALSE
)
}
\arguments{
\item{data}{\verb{[data.frame/data.table]} Input dataset
\itemize{
\item Must contain specific columns depending on \code{station_type}
\item Accepts both data.frame and data.table objects
\item Automatically converts to data.table internally
}}

\item{station_type}{\verb{[character]} Data source specification
\itemize{
\item \code{"nedap"}: Requires Nedap-specific columns
\itemize{
\item Required columns: \code{animal_number}, \code{lifenumber}, \code{responder}, \code{location},
\code{visit_time}, \code{duration}, \code{state}, \code{weight}, \code{feed_intake}
}
\item \code{"fire"}: Requires FIRE system columns
\itemize{
\item Required columns: \code{Location}, \code{Tag}, \code{Date}, \code{Entry}, \code{Exit}, \verb{Ent Wt},
\verb{Ext Wt}, \code{Consumed}, \code{Weight}, \verb{Topup Amount}
}
\item Default: \code{"nedap"}
}}

\item{print_details}{\verb{[logical]} Debugging output control
\itemize{
\item \code{TRUE}: Show detailed duplicate responder information
\item \code{FALSE}: Suppress detailed output (default)
}}

\item{quiet}{Comprehensive silencing control
\itemize{
\item \strong{Purpose}: Suppresses all non-essential output
\item \strong{Default}: \code{FALSE}
\item \strong{Effect}:
\itemize{
\item Disables progress messages
\item Suppresses warnings
\item Overrides print_details
}
}}
}
\value{
\verb{[data.table]} Processed dataset with enhanced structure:
\itemize{
\item Standardized column names and data types
\item Added temporal sequences:
- \code{seq_days}: Daily sequence counter
- \code{seq_in_day}: Intra-day visit order
- \code{seq_in_location}: Location-specific sequence
\item Optimized key-based indexing for:
- \code{responder}, \code{date}, \code{visit_time}
}
}
\description{
Comprehensive data preprocessing workflow for Nedap/FIRE sensor data with format conversion,
data validation, and quality control checks.
}
\details{
\subsection{Core Processing Workflow}{

\enumerate{
\item \strong{Input Validation}
\itemize{
\item Check dataset existence and format
\item Verify required column presence
\item Auto-conversion to data.table
}
\item \strong{Format Standardization}
\itemize{
\item Convert FIRE data to Nedap format (when \code{station_type = "fire"})
\item Standardize column names and units
\item Handle datetime conversions
}
\item \strong{Data Cleaning}
\itemize{
\item Remove invalid records (NA responders, zero tags)
\item Deduplicate records
\item Resolve cross-location responder conflicts
}
\item \strong{Feature Engineering}
\itemize{
\item Generate sequence numbers (daily/location-based)
\item Create time-based indexes
\item Add derived metrics
}
}
}
}
\note{
Key Constraints:
\itemize{
\item Critical columns must exist based on \code{station_type}
\item FIRE data conversion includes:
- Unit conversions (kg to g)
- DateTime standardization (UTC timezone)
- Removal of invalid \code{Tag == "0"} records
\item Duplicate responder resolution selects location with most records
}
}
\examples{
result_nedap <- preprocess_data(data = mintyr::nedap, station_type = "nedap", quiet = TRUE)
head(result_nedap)
}
\seealso{
\itemize{
\item \link[data.table:data.table]{data.table::data.table} For underlying data manipulation
}
}
