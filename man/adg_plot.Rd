% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/adg_plot.R
\name{adg_plot}
\alias{adg_plot}
\title{Plot Average Daily Gain (ADG) Growth Curves}
\usage{
adg_plot(
  data,
  responders = NULL,
  locations = NULL,
  color_theme = "d3",
  save_path = NULL,
  file_prefix = "loc",
  file_suffix = NULL,
  dpi = 300,
  device = "png",
  quiet = FALSE
)
}
\arguments{
\item{data}{A list object returned by the \code{adg_get()} function, containing ADG data and related information.}

\item{responders}{Character vector specifying which pig IDs to include. Default is \code{NULL} (all responders).}

\item{locations}{Character vector specifying which locations to include. Default is \code{NULL} (all locations).}

\item{color_theme}{Character string specifying the color theme to use from the \code{ggsci} package.
Default is "d3". Available themes include: "npg", "aaas", "nejm", "lancet", "jama", "bjm", "jco",
"d3", "observable", "locuszoom", "igv", "cosmic", "uchicago", "startrek", "tron", "futurama",
"rickandmorty", "simpsons", "flatui", "frontiers", "ucscgb".}

\item{save_path}{Character string specifying the path to save plots. Default is \code{NULL} (plots not saved).}

\item{file_prefix}{Character string for the prefix of saved filenames. Default is "loc".}

\item{file_suffix}{Character string for the suffix of saved filenames. Default is \code{NULL} (automatically set to "grow").}

\item{dpi}{Numeric value for the resolution of saved plots. Default is 300.}

\item{device}{Character string specifying the file format for saved plots. Default is "png".
Supported formats: "png", "pdf", "jpeg", "tiff".}

\item{quiet}{Logical. If TRUE, suppresses messages and warnings. Default: FALSE.}
}
\value{
A \code{data.table} containing:
\itemize{
\item \code{location}: Location identifier
\item \code{data}: List of data for each location
\item \code{plot}: List of ggplot2 objects for each location
}
}
\description{
Creates and optionally saves visualization plots for pig growth data based on ADG (Average Daily Gain)
calculations. The function generates detailed growth curve plots with prediction intervals, outlier
marking, and linear regression fits.
}
\details{
The plots created by \code{adg_plot} include:
\itemize{
\item Weight over time scatter plots
\item Linear regression prediction lines
\item Prediction confidence interval bands
\item Horizontal reference lines at key weight stages (30kg, 60kg, 120kg)
\item Growth parameter annotations (slope, RÂ² value, stage days, ADG value) for each pig
\item Color differentiation between outliers and normal values
}
}
\examples{
result_nedap <- preprocess_data(data = mintyr::nedap, station_type = "nedap", quiet = TRUE)
adg_result <- adg_get(result_nedap, my_break = c(30,120), quiet = TRUE)
res <- adg_plot(data = adg_result, save_path = tempdir(), location = "101", quiet = TRUE)
# Check exported files
list.files(path = tempdir(), pattern = "png", recursive = TRUE)
# Clean up exported files
files <- list.files(
  path = tempdir(),         # Default export directory
  pattern = "png",          # File type pattern to search
  recursive = TRUE,         # Search in subdirectories
  full.names = TRUE         # Return full file paths
)
file.remove(files)          # Remove all exported files
}
\seealso{
\code{\link{adg_get}} for calculating ADG data
\code{\link{clean_weight_get}} for cleaning and preparing weight data
\code{\link{preprocess_data}} for data preprocessing
}
